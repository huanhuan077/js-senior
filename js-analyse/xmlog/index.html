<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>xmlog 使用Demo</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">


<style type="text/css">
    .box{
        position: absolute;
        top:100px;
        left: 100px;
        border:1px solid red;
        width: 100px;
        height: 100px;
        -webkit-box-shadow: 0 0 0px 5000px rgba(0,0,0,0.3);
        -moz-box-shadow: 0 0 0px 1000px rgba(0,0,0,0.3);
        box-shadow: 0 0 0px 5000px rgba(0,0,0,0.3);
        /*border-radius: 50%;*/
    }

</style>
</head>
<body>

<button id="btn1" data-spy="xm" data-id="123" data-title="event" data-mod="A区" data-pos="13"> A模拟事件</button>

&nbsp;&nbsp;&nbsp;&nbsp;

<!-- <button id="btn2" data-spy="xm" data-id="123"  data-mod="A区" data-pos="1"> 模拟事件</button> -->

<a id="btn2" data-spy="xm" data-id="12633"  data-title="link" data-mod="B区" data-pos="23" href="test.html"> B模拟页面跳转</a>

<!-- <div style="border:1px solid red" data-spy="xm" data-id="123"  data-mod="A区" data-pos="1"> 模拟事件div




<br/>
<br/>
<span data-spy="xm" data-id="123"  data-mod="span区" data-pos="1">xx</span>

</div> -->


&nbsp;&nbsp;&nbsp;&nbsp;
<a id="btn3" data-spy="xm" data-id="12634" data-title="event and link" data-mod="C区" data-pos="33" href="test.html"> C事件+模拟页面跳转</a>
<div class=""></div>


<script>
(function(e, t, n, a, o, i, m) {
    e._xmObjName = o,
        e[o] = e[o] || function() {
            (e[o].q = e[o].q || []).push(arguments)
        },
        e[o].l = e[o].l || +new Date,
        i = t.createElement(n),
        i.asyn = true,
        i.src = a,
        m = t.getElementsByTagName(n)[0],
        m.parentNode.insertBefore(i, m)
})(window, document, "script", "../src/xmlog.js", "xmLog");
</script>


<script type="text/javascript">

xmLog('pv.create',{
    item:'gameDetail',
    itemId:'1356'
});

xmLog('pv.send','pageview');

function attr(el,name) {
    return el.getAttribute(name);
}

var eBtn = document.getElementById('btn1');
eBtn.onclick = function(){
    // location.href = 'test.html';
    xmLog('pv.send','event',{
        serviceId:'viewGameBigPic',
        srcPosition:attr(eBtn,'data-pos'),
        srcModule:attr(eBtn,'data-mod'),
        item:attr(eBtn,'data-title'),
        itemId:attr(eBtn,'data-id')
    });
}


// 模拟事件
var lBtn = document.getElementById('btn2');
lBtn.onclick = function(){
    // location.href = 'test.html';
    xmLog('pv.send','event',{
        serviceId:'viewGameBigPic-link',
        srcPosition:attr(lBtn,'data-pos'),
        srcModule:attr(lBtn,'data-mod'),
        item:attr(lBtn,'data-title'),
        itemId:attr(lBtn,'data-id')
    });
}


var elBtn = document.getElementById('btn3');
elBtn.onclick = function(){
    // location.href = 'test.html';
    xmLog('pv.send','event',{
        serviceId:'viewGameBigPic-link-event',
        srcPosition:attr(elBtn,'data-pos'),
        srcModule:attr(elBtn,'data-mod'),
        item:attr(elBtn,'data-title'),
        itemId:attr(elBtn,'data-id')
    });
}


function b(){
    throw new Error('this is a test error')
}
function a(a){
    var g = b();
    return g+1;
}

setTimeout(function(){
    // console.log('执行函数');
// xmLog('pv.send','timing');
    // a(5)

},3000)

</script>

</body>
</html>